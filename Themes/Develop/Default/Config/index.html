<extend name="Public:base"/>

<block name="main">
<div id="main-box">
  <div class="jarviswidget jarviswidget-sortable" id="wid-id-0" data-widget-togglebutton="false" data-widget-editbutton="false" data-widget-fullscreenbutton="false" data-widget-colorbutton="false" data-widget-deletebutton="false" role="widget">
    <header role="heading">
      <span class="widget-icon"> <i class="glyphicon glyphicon-stats txt-color-darken"></i> </span>
      <h2>系统配置</h2>

      <ul class="nav nav-tabs pull-right in" id="myTab">
        <li class="active">
          <a data-toggle="tab" href="#s1"><span class="hidden-mobile hidden-tablet">站点信息</span></a>
        </li>

        <li>
          <a data-toggle="tab" href="#s2"><span class="hidden-mobile hidden-tablet">系统设置</span></a>
        </li>

        <li>
          <a data-toggle="tab" href="#s3"><span class="hidden-mobile hidden-tablet">附件设置</span></a>
        </li>
        <li>
          <a data-toggle="tab" href="#s4"><span class="hidden-mobile hidden-tablet">微博设置</span></a>
        </li>
        <li>
          <a data-toggle="tab" href="#s5"><span class="hidden-mobile hidden-tablet">会员设置</span></a>
        </li>
        <li>
          <a data-toggle="tab" href="#s6"><span class="hidden-mobile hidden-tablet">邮箱设置</span></a>
        </li>
        <li>
          <a data-toggle="tab" href="#s7"><span class="hidden-mobile hidden-tablet">设置</span></a>
        </li>
      </ul>
      <span class="jarviswidget-loader"><i class="fa fa-refresh fa-spin"></i></span>
    </header>
<div class="widget-body">


<!-- Tab panes -->
<div class="tab-content">
  <div role="tabpanel" class="tab-pane active" id="s1">
    <form method="post" action="{:U('config/dosite')}" class="form-horizontal">

      <div class="form-group">
        <label class="col-sm-2 control-label">网站名称:</label>
        <div class="col-sm-8"><input type="text" class="form-control" name="site_name" value="{$site_name}" size="50">
        site_name
        </div>
      </div>
      <div class="form-group">
        <label class="col-sm-2 control-label">网站网址:</label>
        <div class="col-sm-8"><input type="text" class="form-control" name="site_url" value="{$site_url}" size="50">
        site_url</div>
      </div>
      <div class="form-group">
        <label class="col-sm-2 control-label">首页标题:</label>
        <div class="col-sm-8"><input type="text" class="form-control" name="seo_title" value="{$seo_title}" size="50">
        seo_title</div>
      </div>
      <div class="form-group">
        <label class="col-sm-2 control-label">首页关键词:</label>
        <div class="col-sm-8"><input type="text" class="form-control" name="seo_keywords" value="{$seo_keywords}" size="50">
        seo_keywords</div>
      </div>
      <div class="form-group">
        <label class="col-sm-2 control-label">首页描述:</label>
        <div class="col-sm-8"><textarea class="form-control" rows="4" cols="60" name="seo_description">{$seo_description}</textarea>
        seo_description</div>
      </div>
      <volist name="site_config" id="vo">
      <div class="form-group">
        <label class="col-sm-2 control-label">{$vo.info}:</label>
        <div class="col-sm-8"><input type="text" class="form-control"  name="{$vo.varname}" value="{$vo.value}" size="50">
        {$vo.varname}</div>
      </div>
      </volist>
      <div class="form-group">
        <label class="col-sm-2 control-label"></label>
        <div class="col-sm-8">
        <input type="submit"  value="{:L('save')}" class="btn btn-sm btn-primary" />
        <input type="reset"  value="{:L('reset')}" class="btn btn-sm btn-primary"/>
        </div>
      </div>


    </form>
  </div>
  <div role="tabpanel" class="tab-pane" id="s2">
    <form method='post'  action="{:U('config/dosite')}" class="form-horizontal">
      <div class="form-group">
        <label class="col-sm-2 control-label">{:L('PAGE_LISTROWS')}:</label>
        <div class="col-sm-8"><input name="PAGE_LISTROWS" type="text"  class="input-text" size="5" id="PAGE_LISTROWS" value="{$PAGE_LISTROWS}"></div>
      </div>
      <div class="form-group">
        <label class="col-sm-2 control-label">{:L('URL_MODEL')}:</label>
        <div class="col-sm-8">{:Form::select(array('field'=>'URL_MODEL','options'=>$urlmodelarr,'setup'=>array('onchange'=>'urlrule(this.value)')),$URL_MODEL)}
        </div>
      </div>
      <div class="form-group" id="urlrule">
        <label class="col-sm-2 control-label">{:L('URL_Urlrule')}:</label>
        <div class="col-sm-8">{:Form::select(array('field'=>'URL_URLRULE','options'=>$Urlrule),$URL_URLRULE)}</div>
      </div>

      <div class="form-group">
        <label class="col-sm-2 control-label">{:L('URL_PATHINFO_DEPR')}:</label>
        <div class="col-sm-8"><input name="URL_PATHINFO_DEPR" type="text" class="form-control" id="URL_PATHINFO_DEPR" value="{$URL_PATHINFO_DEPR}" size="20" /></div>
      </div>
      <div class="form-group">
        <label class="col-sm-2 control-label">{:L('URL_HTML_SUFFIX')}:</label>
        <div class="col-sm-8"><input name="URL_HTML_SUFFIX" type="text" class="form-control" id="URL_HTML_SUFFIX" value="{$URL_HTML_SUFFIX}"></div>
      </div>

      <div class="form-group">
        <label class="col-sm-2 control-label">{:L('LAYOUT_ON')}:</label>
        <div class="col-sm-8">{:Form::select(array('field'=>'LAYOUT_ON','options'=>$openarr),$LAYOUT_ON)}
        </div>
      </div>

      <div class="form-group">
        <label class="col-sm-2 control-label">{:L('TOKEN_ON')}:</label>
        <div class="col-sm-8">{:Form::select(array('field'=>'TOKEN_ON','options'=>$openarr),$TOKEN_ON)}
        </div>
      </div>
      <div class="form-group">
        <label class="col-sm-2 control-label">{:L('TOKEN_NAME')}:</label>
        <div class="col-sm-8"><input name="TOKEN_NAME" type="text" class="form-control"  id="TOKEN_NAME" value="{$TOKEN_NAME}">
        </div>
      </div>
      <div class="form-group">
        <label class="col-sm-2 control-label">{:L('TMPL_CACHE_ON')}:</label>
        <div class="col-sm-8">{:Form::select(array('field'=>'TMPL_CACHE_ON','options'=>$openarr),$TMPL_CACHE_ON)}
          </div>
      </div>
      <div class="form-group">
        <label class="col-sm-2 control-label">{:L('TMPL_CACHE_TIME')}:</label>
        <div class="col-sm-8"><input name="TMPL_CACHE_TIME" type="text" id="TMPL_CACHE_TIME" value="{$TMPL_CACHE_TIME}"> </div>
      </div>
      <div class="form-group">
        <label class="col-sm-2 control-label">{:L('HTML_CACHE_ON')}:</label>
        <div class="col-sm-8">{:Form::select(array('field'=>'HTML_CACHE_ON','options'=>$openarr),$HTML_CACHE_ON)}</div>
      </div>
      <div class="form-group">
        <label class="col-sm-2 control-label">{:L('HTML_CACHE_TIME')}:</label>
        <div class="col-sm-8"><input name="HTML_CACHE_TIME" type="text" class="form-control"  id="HTML_CACHE_TIME" value="{$HTML_CACHE_TIME}"> </div>
      </div>
      <div class="form-group">
        <label class="col-sm-2 control-label">{:L('HTML_READ_TYPE')}:</label>
        <div class="col-sm-8">{:Form::select(array('field'=>'HTML_READ_TYPE','options'=>$readtypearr),$HTML_READ_TYPE)}
          </div>
      </div>
       <div class="form-group">
        <label class="col-sm-2 control-label">{:L('HTML_FILE_SUFFIX')}:</label>
        <div class="col-sm-8"><input name="HTML_FILE_SUFFIX" type="text" class="form-control"  id="HTML_FILE_SUFFIX" value="{$HTML_FILE_SUFFIX}">
          </div>
      </div>
      <div class="form-group">
        <label class="col-sm-2 control-label">ADMIN_ACCESS:</label>
        <div class="col-sm-8"><input name="ADMIN_ACCESS" type="text"  class="form-control" size="40" id="ADMIN_ACCESS" value="{$ADMIN_ACCESS}"> </div>
       </div>
      <div class="form-group">
        <label class="col-sm-2 control-label">{:L('HOME_ISHTML')}:</label>
        <div class="col-sm-8">{:Form::select(array('field'=>'HOME_ISHTML','options'=>$openarr),$HOME_ISHTML)}</div>
      </div>
      <div class="form-group">
        <label class="col-sm-2 control-label">{:L('COOKIE_PATH')}:</label>
        <div class="col-sm-8"><input name="COOKIE_PATH" type="text" class="form-control" id="COOKIE_PATH" value="{$COOKIE_PATH}"> </div>
      </div>
      <div class="form-group">
        <label class="col-sm-2 control-label">{:L('COOKIE_DOMAIN')}:</label>
        <div class="col-sm-8"><input name="COOKIE_DOMAIN" type="text" class="form-control" id="COOKIE_DOMAIN" value="{$COOKIE_DOMAIN}"> </div>
      </div>
      <div class="form-group">
        <label class="col-sm-2 control-label">{:L('DEFAULT_LANG')}:</label>
        <div class="col-sm-8">{:Form::select(array('field'=>'DEFAULT_LANG','options'=>$Lang,'options_key'=>'key,name'),$DEFAULT_LANG)}</div>
      </div>

      <div class="form-group">
        <div class="col-sm-8 col-sm-offset-2">
        <input type="submit"  value="{:L('save')}" class="btn btn-sm btn-primary" />
        <input type="reset"  value="{:L('reset')}" class="btn btn-sm btn-primary"/>
        </div>
      </div>
    </form>
  </div>
  <div role="tabpanel" class="tab-pane" id="s3">
    <form method='post' action="{:U('config/dosite')}" class="form-horizontal">
      <div class="form-group">
        <label class="col-sm-2 control-label">{:L('config_attach_maxsize')}</label>
        <div class="col-sm-8"><input type="text" class="form-control" name="attach_maxsize" id="attach_maxsize" size="10" value="{$attach_maxsize}"/> B </div>
       </div>

      <div class="form-group">
        <label class="col-sm-2 control-label">{:L('config_attach_allowext')}</label>
        <div class="col-sm-8">
          <input type="text" class="form-control" name="attach_allowext" id="attach_allowextt" size="50" value="{$attach_allowext}"/>
        </div>
      </div>

      <div class="form-group">
        <label class="col-sm-2 control-label">{:L('config_attach_watermark_enable')}</label>
        <div class="col-sm-8">
          <input class="radio_style" name="watermark_enable" value="1" <if condition="$watermark_enable == 1">checked</if> type="radio"> {:L('open_select')}
          <input class="radio_style" name="watermark_enable" value="0" <if condition="$watermark_enable == 0">checked</if> type="radio"> {:L('close_select')}
        </div>
      </div>

      <div class="form-group">
        <label class="col-sm-2 control-label">{:L('config_attach_watemard_text')}</label>
        <div class="col-sm-8"><input type="text" class="form-control" name="watemard_text" id="watemard_text" size="30" value="{$watemard_text}"/></div>
      </div>

      <div class="form-group">
        <label class="col-sm-2 control-label">{:L('config_attach_watemard_text_size')}</label>
        <div class="col-sm-8"><input type="text" class="form-control" name="watemard_text_size" id="watemard_text_size" size="5" value="{$watemard_text_size}"/></div>
      </div>
      <div class="form-group">
        <label class="col-sm-2 control-label">{:L('config_attach_watemard_text_color')}</label>
        <div class="col-sm-8">
        <input type="text" class="form-control" name="watemard_text_color" id="watemard_text_color" size="10" value="{$watemard_text_color}"/>{:L('config_attach_watemard_text_color_tip')}
        </div>
      </div>
      <div class="form-group">
        <label class="col-sm-2 control-label">{:L('config_attach_watemard_text_face')}</label>
        <div class="col-sm-8">
          <input type="text" class="form-control" name="watemard_text_face" id="watemard_text_face" size="20" value="{$watemard_text_face}"/>{:L('config_attach_watemard_text_face_tip')}
        </div>
      </div>
      <div class="form-group">
        <label class="col-sm-2 control-label">{:L('config_attach_watermark_minwidth')}</label>
        <div class="col-sm-8">
        <input type="text" class="form-control" name="watermark_minwidth" id="watermark_minwidth" size="5" value="{$watermark_minwidth}" /> PX {:L('width')} <input type="text" class="form-control" name="watermark_minheight" id="watermark_minheight" size="5" value="{$watermark_minheight}" /> PX {:L('height')}
        </div>
      </div>

      <div class="form-group">
        <label class="col-sm-2 control-label">{:L('config_attach_watermark_img')}</label>
        <div class="col-sm-8">
          <input type="hidden" name="watermark_img" id="watermark_img" size="30" value="{$watermark_img}"/>
          <load href="./Public/Js/swfupload.js"/>
          <div class="thumb_box" style ="width:97px;height:80px;padding:2px;">
            <div id="image_aid_box"></div>

            <a href="javascript:swfupload('watermark_img_uploadfile','watermark_img','{:L('uploadfiles')}',1,1,0,1,'jpeg,jpg,png,gif',3,0,'{$yzh_auth}',yesdo,nodo)"><img style="width:50px;height: 50px;" width="50" height="50" src="<if condition="!empty($watermark_img)">{$watermark_img}<else/>./Public/Images/admin_upload_thumb.png</if>" id="watermark_img_pic" ></a><br>
            <input type="button" value="{:L('clean_thumb')}" onclick="javascript:clean_thumb('watermark_img');" class="btn btn-sm btn-primary" style="margin:0;" />
          </div>
        </div>
      </div>
      <div class="form-group">
        <label class="col-sm-2 control-label">{:L('config_attach_watermark_pct')}</label>
        <div class="col-sm-8"><input type="text" class="form-control" name="watermark_pct" id="watermark_pct" size="10" value="{$watermark_pct}" /> </div>
      </div>

      <div class="form-group">
        <label class="col-sm-2 control-label">{:L('config_attach_watermark_quality')}</label>
        <div class="col-sm-8"><input type="text" class="form-control" name="watermark_quality" id="watermark_quality" size="10" value="{$watermark_quality}" /> </div>
      </div>

      <div class="form-group">
        <label class="col-sm-2 control-label">{:L('config_attach_watermark_pos_padding')}</label>
        <div class="col-sm-8"><input type="text" class="form-control" name="watermark_pospadding" id="watermark_pospadding" size="10" value="{$watermark_pospadding}" /> </div>
      </div>
      <div class="form-group">
        <label class="col-sm-2 control-label">{:L('config_attach_watermark_pos')}</label>
        <div class="col-sm-8">
          <table width="60%" class="table radio-label">
            <tr>
              <td rowspan="3"><input class="radio_style" name="watermark_pos" value="10" type="radio" <if condition="$watermark_pos == 10">  checked</if> > {:L('config_attach_watermark_pos_rand')}</td>
              <td><input class="radio_style" name="watermark_pos" value="1" type="radio" <if condition="$watermark_pos == 1">  checked</if>> {:L('config_attach_watermark_pos_1')}</td>
              <td><input class="radio_style" name="watermark_pos" value="2" type="radio" <if condition="$watermark_pos == 2">  checked</if> > {:L('config_attach_watermark_pos_2')}</td>
              <td><input class="radio_style" name="watermark_pos" value="3" type="radio" <if condition="$watermark_pos == 3">  checked</if> > {:L('config_attach_watermark_pos_3')}</td>
            </tr>

            <tr>
              <td><input class="radio_style" name="watermark_pos" value="4" type="radio" <if condition="$watermark_pos == 4">  checked</if> > {:L('config_attach_watermark_pos_4')}</td>
              <td><input class="radio_style" name="watermark_pos" value="5" type="radio"  <if condition="$watermark_pos == 5">  checked</if>> {:L('config_attach_watermark_pos_5')}</td>
              <td><input class="radio_style" name="watermark_pos" value="6" type="radio" <if condition="$watermark_pos == 6">  checked</if>> {:L('config_attach_watermark_pos_6')}</td>
            </tr>

            <tr>
              <td><input class="radio_style" name="watermark_pos" value="7" type="radio" <if condition="$watermark_pos == 7">  checked</if>> {:L('config_attach_watermark_pos_7')}</td>
              <td><input class="radio_style" name="watermark_pos" value="8" type="radio" <if condition="$watermark_pos == 8">  checked</if>> {:L('config_attach_watermark_pos_8')}</td>
              <td><input class="radio_style" name="watermark_pos" value="9" type="radio"  <if condition="$watermark_pos == 9">  checked</if>> {:L('config_attach_watermark_pos_9')}
              </td>
            </tr>
            </table>
        </div>
      </div>


      <div class="form-group">
        <div class="col-sm-10 col-sm-offset-2">
        <input type="submit"  value="{:L('save')}" class="btn btn-sm btn-primary" />
        <input type="reset"  value="{:L('reset')}" class="btn btn-sm btn-primary"/>
        </div>
      </div>
    </form>
  </div>

  <div role="tabpanel" class="tab-pane" id="s4">
    <form method='post' action="{:U('config/dosite')}">
    <table class="form-table" >

      <volist name="weibo_config" id="vo">
      <tr>
        <th width="140">{$vo.info}:</th>
        <td>
        <input type="text" class="form-control"  name="{$vo.varname}" value="{$vo.value}" size="40">
        <a href="{:U('Config/delete?id='.$vo[id])}"><font color="red">{:L(delete)}</font></a>
        </td>
      </tr>
      </volist>
    </table>
    <div class="btn">
      <input type="submit" value="{:L('save')}" class="btn btn-sm btn-primary" >
      <input type="reset" value="{:L('reset')}" class="btn btn-sm btn-primary">
    </div>
    </form>
  </div>

  <div role="tabpanel" class="tab-pane" id="s5">
    <form method="post" action="{:U('Config/dosite')}" class="form-horizontal">
      <volist name="member_config" id="vo">
      {if $vo[varname] =='member_getpwdemaitpl' || $vo[varname]=='member_emailchecktpl'}
      <div class="form-group">
        <label class="col-sm-2 control-label">{$vo.info}:</label>
        <div class="col-sm-10">
          <textarea id="{$vo[varname]}" name="{$vo[varname]}" class="form-control" rows="5" cols="50">{$vo['value']|htmlspecialchars}</textarea>
        </div>
      </div>
      {else}
      <div class="form-group">
        <label class="col-sm-2 control-label">{$vo.info}:</label>
        <div class="col-sm-10">
        {:Form::radio(array('field'=>$vo[varname],'options'=>array('1'=>L('yes'),'0'=>L('no'))),$vo['value'])}
        </div>
      </div>
      {/if}
      </volist>
      <div class="form-group">
        <div class="col-sm-10 col-sm-offset-2">
          <input type="submit" value="{:L('save')}" class="btn btn-sm btn-primary">
          <input type="reset" value="{:L('reset')}" class="btn btn-sm btn-primary">
        </div>
      </div>
    </form>
  </div>

  <div class="tab-pane" id="s6">
    <form method='post' action="{:U('Config/dosite')}">
      <table class="form-table">
        <tr>
          <th width="120">{:L('config_mail_md')}</th>
          <td class="y-bg">
            <input name="mail_type" value="1" onclick="showsmtp(this)" type="radio"  <if condition="$mail_type == 1">  checked</if>> {:L('config_mail_smtp')}
            <input name="mail_type"  value="2" onclick="showsmtp(this)" type="radio"  <if condition="$mail_type == 2">  checked</if>  <?php if(substr(strtolower(PHP_OS), 0, 3) == 'win') echo 'disabled'; ?>/> {:L('config_mail_mailfun')}
            <input name="mail_type"   value="3" onclick="showsmtp(this)" type="radio"  <if condition="$mail_type == 3">  checked</if>> sendmail
          </td>
        </tr>
        <tbody id="smtpconfig" style="">
          <tr>
            <th>{:L('config_mail_server')}</th>
            <td class="y-bg"><input type="text" class="form-control" name="mail_server" id="mail_server" size="30" value="{$mail_server}"/></td>
          </tr>
          <tr>
            <th>{:L('config_mail_port')}</th>
            <td class="y-bg"><input type="text" class="input-text" name="mail_port" id="mail_port" size="30" value="{$mail_port}"/></td>
          </tr>
          <tr>
            <th>{:L('config_mail_from')}</th>
            <td class="y-bg"><input type="text" class="input-text" name="mail_from" id="mail_from" size="30" value="{$mail_from}"/></td>
          </tr>
          <tr>
            <th>{:L('config_mail_auth')}</th>
            <td class="y-bg">
            <input name="mail_auth" id="mail_auth" value="1" type="radio" <if condition="$mail_auth == 1">  checked</if>> {:L('open_select')}  <input name="mail_auth" id="mail_auth" value="0" type="radio" <if condition="$mail_auth == 0">  checked</if> > {:L('close_select')}</td>
          </tr>

          <tr>
            <th>{:L('config_mail_user')}</th>
            <td class="y-bg"><input type="text" class="input-text" name="mail_user" id="mail_user" size="30" value="{$mail_user}"/></td>
          </tr>
          <tr>
            <th>{:L('config_mail_password')}</th>
            <td class="y-bg"><input type="password" class="input-text" name="mail_password" id="mail_password" size="30" value="{$mail_password}"/></td>
          </tr>

        </tbody>

        <tbody id="sendmailconfig" style="">
          <tr>
            <th>{:L('config_mail_sendmail')}</th>
            <td class="y-bg"><input type="text" class="input-text" name="mail_sendmail" id="mail_sendmail" size="30" value="{$mail_sendmail}"/></td>
          </tr>
        </tbody>
        <tr>
          <th>{:L('config_mail_test')}</th>
          <td class="y-bg">
          <input type="text" class="input-text" name="mail_to" id="mail_to" size="30" value=""/> <input type="button" class="btn btn-sm btn-primary" onClick="javascript:test_mail();" value="{:L('config_mail_testsed')}">
          </td>
        </tr>
        </table>
        <div class="btn">
          <input type="submit" value="{:L('save')}" class="btn btn-sm btn-primary" >
          <input type="reset" value="{:L('reset')}" class="btn btn-sm btn-primary">
        </div>
    </form>
  </div>

  <div class="tab-pane" id="s7">
    <table class="form-table">
        <tbody>
            <tr>
                <th width="140" height="35">
                  友情链接：            </th>
                <td>
                    <input type="text" style="height:17px;" size="6" value="" name="site_name" class="input-text">&nbsp; &nbsp;（显示个数）
                </td>
            </tr>
            <tr>
                <th width="140" height="35">
                    在线客服：</th>
                <td>
                   <span><a href="/index.php?a=status&m=module&g=admin&id=9&status=1">开启</a></span>&nbsp; &nbsp;<span><a href="/index.php?a=status&m=module&g=admin&id=9&status=0">关闭</a></span>
                </td>
            </tr>
            <tr>
                <th width="140" height="35">
                   分享工具：            </th>
                <td>
                     <span><a href="/index.php?a=status&m=module&g=admin&id=9&status=1">开启</a></span>&nbsp; &nbsp;<span><a href="/index.php?a=status&m=module&g=admin&id=9&status=0">关闭</a></span>
                </td>
            </tr>
            <tr>
                <th width="140" height="35">
                    电子地图：            </th>
                <td class="">
                    <span><a href="/index.php?a=status&m=module&g=admin&id=9&status=1">开启</a></span>&nbsp; &nbsp;<span><a href="/index.php?a=status&m=module&g=admin&id=9&status=0">关闭</a></span>
                </td>
            </tr>

        </tbody>
    </table>
  </div>
</form>
</div>
</div>

  </div>

</div>

<script>
function urlrule(m){
  if(m==1 || m==2){
  $('#urlrule').show();
  }else{
  $('#urlrule').hide();
  }
}
urlrule({$URL_MODEL});
</script>

<script>
function showsmtp(obj){

  if(obj){
    var issmtp = $(obj).val();
  }else{
    var issmtp = $("input[name=mail_type][checked]").val();
  }

  if(issmtp==1){
    $('#smtpconfig').show();
    $('#sendmailconfig').hide();
  }else if(issmtp==3){
    $('#smtpconfig').hide();
    $('#sendmailconfig').show();
  }else{
    $('#smtpconfig').hide();
    $('#sendmailconfig').hide();
  }
}

function test_mail(){

  var mail_type = $("input[name=mail_type][checked]").val();

  $.post(
    '{:U("Config/testmail")}&mail_to='+$('#mail_to').val(),
    {mail_type:mail_type,
    mail_sendmail:$('#mail_sendmail').val(),
    mail_server:$('#mail_server').val(),
    mail_port:$('#mail_port').val(),
    mail_user:$('#mail_user').val(),
    mail_password:$('#mail_password').val(),
    mail_auth:$('#mail_auth').val(),
    mail_from:$('#mail_from').val()
    },function(data){
      alert(data.info);
    },"json");

}
showsmtp();
</script>
</block>